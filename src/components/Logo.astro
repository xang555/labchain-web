---
interface Props {
  size?: number;
  showText?: boolean;
}

const { size = 40, showText = true } = Astro.props;
---

<div class="logo-wrapper">
  <svg
    width={size}
    height={size}
    viewBox="0 0 100 100"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    class="logo-icon"
  >
    <!-- Background Circle with Laos-inspired colors -->
    <defs>
      <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stop-color="#CE1126" />
        <stop offset="50%" stop-color="#002868" />
        <stop offset="100%" stop-color="#CE1126" />
      </linearGradient>
      <linearGradient id="blockGradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stop-color="#FFFFFF" />
        <stop offset="100%" stop-color="#E8E8E8" />
      </linearGradient>
      <filter id="glow">
        <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
        <feMerge>
          <feMergeNode in="coloredBlur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>

    <!-- Main Circle Background -->
    <circle cx="50" cy="50" r="48" fill="url(#logoGradient)" />

    <!-- Inner white circle (representing the white band in Laos flag) -->
    <circle cx="50" cy="50" r="20" fill="#FFFFFF" opacity="0.95" />

    <!-- Blockchain Cubes/Blocks - representing chain links -->
    <!-- Top Block -->
    <g transform="translate(50, 12)" filter="url(#glow)">
      <rect x="-8" y="-4" width="16" height="12" rx="2" fill="url(#blockGradient)" stroke="#002868" stroke-width="1.5"/>
      <line x1="0" y1="8" x2="0" y2="18" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"/>
    </g>

    <!-- Right Block -->
    <g transform="translate(80, 45)" filter="url(#glow)">
      <rect x="-8" y="-4" width="16" height="12" rx="2" fill="url(#blockGradient)" stroke="#002868" stroke-width="1.5"/>
      <line x1="-18" y1="2" x2="-8" y2="2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"/>
    </g>

    <!-- Bottom Block -->
    <g transform="translate(50, 82)" filter="url(#glow)">
      <rect x="-8" y="-4" width="16" height="12" rx="2" fill="url(#blockGradient)" stroke="#002868" stroke-width="1.5"/>
      <line x1="0" y1="-14" x2="0" y2="-4" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"/>
    </g>

    <!-- Left Block -->
    <g transform="translate(20, 45)" filter="url(#glow)">
      <rect x="-8" y="-4" width="16" height="12" rx="2" fill="url(#blockGradient)" stroke="#002868" stroke-width="1.5"/>
      <line x1="8" y1="2" x2="18" y2="2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"/>
    </g>

    <!-- Central "L" for LabChain/Lao -->
    <g transform="translate(50, 50)">
      <text
        x="0"
        y="6"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="24"
        font-weight="bold"
        fill="#002868"
      >L</text>
    </g>

    <!-- Connecting lines (chain links) -->
    <g stroke="#FFFFFF" stroke-width="1.5" opacity="0.8">
      <!-- Top to Center -->
      <line x1="50" y1="30" x2="50" y2="35" />
      <!-- Right to Center -->
      <line x1="70" y1="50" x2="65" y2="50" />
      <!-- Bottom to Center -->
      <line x1="50" y1="65" x2="50" y2="70" />
      <!-- Left to Center -->
      <line x1="30" y1="50" x2="35" y2="50" />
    </g>

    <!-- Decorative dots (representing nodes) -->
    <circle cx="50" cy="35" r="3" fill="#FFFFFF" />
    <circle cx="65" cy="50" r="3" fill="#FFFFFF" />
    <circle cx="50" cy="65" r="3" fill="#FFFFFF" />
    <circle cx="35" cy="50" r="3" fill="#FFFFFF" />
  </svg>

  {showText && (
    <span class="logo-text">
      <span class="logo-lab">LAB</span> <span class="logo-chain">Chain</span>
    </span>
  )}
</div>

<style>
  .logo-wrapper {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .logo-icon {
    flex-shrink: 0;
  }

  .logo-text {
    font-size: 1.5rem;
    font-weight: 800;
    letter-spacing: -0.02em;
  }

  .logo-lab {
    color: var(--color-red);
  }

  .logo-chain {
    color: var(--color-blue);
  }

  [data-theme="dark"] .logo-chain {
    color: var(--text-primary);
  }
</style>
